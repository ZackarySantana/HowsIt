---
import Card from "@components/card.astro";
import ExampleLayout from "@layouts/ExampleLayout.astro";

import Alpine from "@examples/alpinejs/persistent_fetch.html";
import PreactHooks from "@examples/preact/persistent_fetch_hooks";
import PreactSignals from "@examples/preact/persistent_fetch_signals";
import HTMXGo from "@htmx/fetch_go.html";
import HTMXRust from "@htmx/fetch_rust.html";
import HTMXTypeScript from "@htmx/fetch_typescript.html";
import Lit from "@lit/interval";
import React from "@react/persistent_fetch";
import Solid from "@solid/persistent_fetch";
import Svelte from "@svelte/persistent_fetch.svelte";
import { examples } from "@utils/example";
import Vanilla from "@vanilla/persistent_fetch.html";
import Vue from "@vue/persistent_fetch.vue";

const example = "persistent_fetch";
const desc = examples[example].desc;
Astro.locals.example = example;
Astro.locals.desc = desc;

export const prerender = true;
---

<ExampleLayout>
    <div slot="header">
        <h1 class="text-3xl font-bold capitalize">
            {example.split("_").join(" ")} Example
        </h1>
        <p>{desc}</p>
    </div>
    <Card library="vanilla">
        <Vanilla />
    </Card>
    <Card library="react">
        <React slot="ssr" />
        <React
            slot="ch"
            client:load
        />
        <React
            slot="co"
            client:only="react"
        />
    </Card>
    <Card library="solid">
        <Solid slot="ssr" />
        <Solid
            slot="ch"
            client:load
        />
        <Solid
            slot="co"
            client:only="solid"
        />
    </Card>
    <Card
        library="preact"
        variant="hooks"
    >
        <PreactHooks slot="ssr" />
        <PreactHooks
            slot="ch"
            client:load
        />
        <PreactHooks
            slot="co"
            client:only="preact"
        />
    </Card>
    <Card
        library="preact"
        variant="signals"
    >
        <PreactSignals slot="ssr" />
        <PreactSignals
            slot="ch"
            client:load
        />
        <PreactSignals
            slot="co"
            client:only="preact"
        />
    </Card>
    <Card library="svelte">
        <Svelte slot="ssr" />
        <Svelte
            slot="ch"
            client:load
        />
        <Svelte
            slot="co"
            client:only="svelte"
        />
    </Card>
    <Card library="vue">
        <Vue slot="ssr" />
        <Vue
            slot="ch"
            client:load
        />
        <Vue
            slot="co"
            client:only="vue"
        />
    </Card>
    <Card
        library="htmx"
        lang="typescript"
    >
        <HTMXTypeScript />
    </Card>
    <Card
        library="htmx"
        lang="rust"
    >
        <HTMXRust />
    </Card>
    <Card
        library="htmx"
        lang="go"
    >
        <HTMXGo />
    </Card>
    <Card library="alpinejs">
        <Alpine />
    </Card>
    <Card
        library="lit"
        variant="broken"
    >
        <Lit slot="ssr" />
        <Lit
            slot="ch"
            client:load
        />
        <Lit
            slot="co"
            client:only="lit"
        />
    </Card>
</ExampleLayout>
